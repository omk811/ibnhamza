<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>درس همزة ابن وحذفها</title>
    <style>
        /* استخدام بادئات فريدة لتجنب التداخل مع قالب بلوقر */
        .hib-body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0 !important;
            padding: 20px !important;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .hib-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .hib-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .hib-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: bold;
        }
        .hib-content {
            padding: 30px;
        }
        .hib-section {
            margin-bottom: 40px;
            padding: 25px;
            border-radius: 15px;
            border-right: 5px solid #4facfe;
            background: #f8f9ff;
        }
        .hib-section h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .hib-rule-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-right: 4px solid #e74c3c;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .hib-example {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-right: 3px solid #27ae60;
        }
        .hib-exercise-container {
            background: #fff3cd;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #ffc107;
        }
        .hib-question {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        .hib-options {
            display: grid;
            gap: 10px;
            margin: 15px 0;
        }
        .hib-option {
            padding: 12px 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }
        .hib-option:hover {
            border-color: #4facfe;
            background: #f0f8ff;
        }
        .hib-option.selected {
            border-color: #4facfe;
            background: #e3f2fd;
        }
        .hib-option.correct {
            border-color: #27ae60;
            background: #d4edda;
        }
        .hib-option.incorrect {
            border-color: #e74c3c;
            background: #f8d7da;
        }
        .hib-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: transform 0.2s;
        }
        .hib-btn:hover {
            transform: translateY(-2px);
        }
        .hib-result {
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
            text-align: center;
        }
        .hib-correct-result {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .hib-incorrect-result {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .hib-score-board {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }
        .hib-input-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            margin: 10px 0;
        }
        .hib-input-field:focus {
            outline: none;
            border-color: #4facfe;
        }
        .hib-tab-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .hib-tab {
            padding: 12px 20px;
            background: #f8f9fa;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        .hib-tab.active {
            background: #4facfe;
            color: white;
        }
        .hib-tab-content {
            display: none;
        }
        .hib-tab-content.active {
            display: block;
        }
        .hib-highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }
        .hib-draggable-item {
            background: white;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: grab;
            transition: all 0.3s;
            text-align: center;
            font-weight: bold;
        }
        .hib-draggable-item:hover {
            border-color: #4facfe;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .hib-draggable-item.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }
        .hib-drop-zone {
            transition: all 0.3s;
        }
        .hib-drop-zone.drag-over {
            border-color: #28a745 !important;
            background-color: #d4edda !important;
        }
        .hib-dropped-items {
            display: grid;
            gap: 10px;
            margin-top: 10px;
        }
        .hib-dropped-item {
            background: white;
            padding: 10px;
            border-radius: 6px;
            border-right: 3px solid #28a745;
            font-weight: bold;
        }
        .hib-dropped-item.correct {
            border-right-color: #28a745;
            background: #d4edda;
        }
        .hib-dropped-item.incorrect {
            border-right-color: #dc3545;
            background: #f8d7da;
        }
    </style>
</head>
<body class="hib-body">
    <div class="hib-container">
        <div class="hib-header">
            <h1>📚 درس همزة ابن وحذفها</h1>
            <p>تعلم قواعد حذف وإثبات همزة "ابن" بطريقة تفاعلية</p>
        </div>
        <div class="hib-content">
            <!-- القواعد النظرية -->
            <div class="hib-section">
                <h2>📖 متى تُحذف همزة ابن؟</h2>

                <div class="hib-rule-box">
                    <h3>🔹 بين علمين</h3>
                    <div class="hib-example">
                        <strong>مثال:</strong> عثمان <span class="hib-highlight">بن</span> عفان، عبد الله <span class="hib-highlight">بن</span> مسعود
                    </div>
                </div>
                <div class="hib-rule-box">
                    <h3>🔹 بين كنيتين</h3>
                    <div class="hib-example">
                        <strong>مثال:</strong> أبو الفضل <span class="hib-highlight">بن</span> أبي علي
                    </div>
                </div>
                <div class="hib-rule-box">
                    <h3>🔹 بين علمين ثانيهما لقب</h3>
                    <div class="hib-example">
                        <strong>مثال:</strong> فازت سعاد <span class="hib-highlight">بنت</span> البحار
                    </div>
                </div>
                <div class="hib-rule-box">
                    <h3>🔹 بين علمين ثانيهما كنية</h3>
                    <div class="hib-example">
                        <strong>مثال:</strong> أسماء <span class="hib-highlight">بنت</span> أبي بكر
                    </div>
                </div>
                <div class="hib-rule-box">
                    <h3>🔹 بعد أداة النداء (يا)</h3>
                    <div class="hib-example">
                        <strong>مثال:</strong> يا <span class="hib-highlight">بن</span> عبد الله
                    </div>
                </div>
            </div>
            <div class="hib-section">
                <h2>📝 متى تُثبت همزة ابن؟</h2>

                <div class="hib-rule-box">
                    <h3>🔸 إذا لم تقع بين علمين</h3>
                    <div class="hib-example">
                        <strong>مثال:</strong> جاء <span class="hib-highlight">ابن</span> الجار
                    </div>
                </div>
                <div class="hib-rule-box">
                    <h3>🔸 إذا وقعت في أول السطر</h3>
                    <div class="hib-example">
                        <strong>مثال:</strong> <span class="hib-highlight">ابن</span> المقفع هو من نقل لنا كتاب "كليلة ودمنة"
                    </div>
                </div>
            </div>
            <!-- التدريبات -->
            <div class="hib-tab-container">
                <button class="hib-tab active" onclick="hibShowTab('mcq')">اختر الإجابة الصحيحة</button>
                <button class="hib-tab" onclick="hibShowTab('complete')">أكمل الفراغ</button>
                <button class="hib-tab" onclick="hibShowTab('truefalse')">صح وخطأ</button>
                <button class="hib-tab" onclick="hibShowTab('correct')">صحح الخطأ</button>
                <button class="hib-tab" onclick="hibShowTab('classify')">صنف الأمثلة</button>
            </div>
            <!-- اختيار من متعدد -->
            <div id="hib-mcq" class="hib-tab-content active">
                <div class="hib-exercise-container">
                    <h2>🎯 اختر الإجابة الصحيحة</h2>
                    <div class="hib-score-board">
                        <h3>النتيجة: <span id="hib-mcq-score">0</span> من <span id="hib-mcq-total">10</span></h3>
                    </div>
                    <div class="hib-question" id="hib-mcq-1">
                        <h4>1. أي من الجمل التالية تُحذف فيها همزة ابن؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, false)">أ) جاء ابن الجار</div>
                            <div class="hib-option" onclick="hibSelectOption(this, true)">ب) محمد بن راشد</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ج) ابن سينا طبيب مشهور</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) رأيت ابن عمي</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(1)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-1" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-2">
                        <h4>2. متى تُثبت همزة ابن؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, false)">أ) بين علمين فقط</div>
                            <div class="hib-option" onclick="hibSelectOption(this, true)">ب) في أول السطر</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ج) بعد أداة النداء</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) بين كنيتين</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(2)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-2" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-3">
                        <h4>3. في أي جملة تُحذف همزة ابن؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, false)">أ) ابن خلدون مؤرخ عظيم</div>
                            <div class="hib-option" onclick="hibSelectOption(this, true)">ب) يا بن آدم</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ج) قرأت كتاب ابن تيمية</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) ابن الطبيب ماهر</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(3)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-3" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-4">
                        <h4>4. أي من الأمثلة التالية صحيح؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, true)">أ) عمر بن الخطاب</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ب) عمر ابن الخطاب</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ج) جاء بن أحمد</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) رأيت بن علي</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(4)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-4" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-5">
                        <h4>5. في جملة "أبو بكر بن أبي قحافة"، لماذا حُذفت همزة ابن؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, false)">أ) لأنها بعد أداة النداء</div>
                            <div class="hib-option" onclick="hibSelectOption(this, true)">ب) لأنها بين علمين ثانيهما كنية</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ج) لأنها في أول السطر</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) لأنها بين كنيتين</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(5)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-5" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-6">
                        <h4>6. أي من الجمل التالية خاطئة؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, false)">أ) هارون بن الرشيد</div>
                            <div class="hib-option" onclick="hibSelectOption(this, true)">ب) بن تيمية عالم جليل</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ج) يا بن كريم</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) فاطمة بنت محمد</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(6)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-6" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-7">
                        <h4>7. في أي حالة تُكتب "ابن" بالهمزة؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, false)">أ) بين علمين</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ب) بعد أداة النداء</div>
                            <div class="hib-option" onclick="hibSelectOption(this, true)">ج) عندما لا تقع بين علمين</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) بين كنيتين</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(7)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-7" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-8">
                        <h4>8. "أبو حفص بن أبي عمر" - لماذا حُذفت الهمزة؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, true)">أ) لأنها بين كنيتين</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ب) لأنها بين علمين</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ج) لأنها بعد النداء</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) لأنها في أول السطر</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(8)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-8" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-9">
                        <h4>9. أي من هذه الأمثلة يحتاج تصحيح؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, false)">أ) خالد بن الوليد</div>
                            <div class="hib-option" onclick="hibSelectOption(this, true)">ب) جاء بن أحمد</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ج) يا بن آدم</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) زينب بنت علي</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(9)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-9" style="display: none;"></div>
                    </div>
                    <div class="hib-question" id="hib-mcq-10">
                        <h4>10. متى تُحذف همزة "بنت"؟</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectOption(this, false)">أ) دائماً</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">ب) أبداً</div>
                            <div class="hib-option" onclick="hibSelectOption(this, true)">ج) في نفس مواضع حذف همزة "ابن"</div>
                            <div class="hib-option" onclick="hibSelectOption(this, false)">د) فقط بعد أداة النداء</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckMCQ(10)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-result-10" style="display: none;"></div>
                    </div>
                </div>
            </div>
            <!-- إكمال الفراغ -->
            <div id="hib-complete" class="hib-tab-content">
                <div class="hib-exercise-container">
                    <h2>✏️ أكمل الفراغات</h2>
                    <div class="hib-score-board">
                        <h3>النتيجة: <span id="hib-complete-score">0</span> من <span id="hib-complete-total">8</span></h3>
                    </div>
                    <div class="hib-question">
                        <h4>1. علي _____ أبي طالب (ابن/بن)</h4>
                        <input type="text" class="hib-input-field" id="hib-complete-1" placeholder="اكتب إجابتك هنا">
                        <button class="hib-btn" onclick="hibCheckComplete(1, 'بن')">تحقق</button>
                        <div class="hib-result" id="hib-complete-result-1" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>2. _____ سينا طبيب مشهور (ابن/بن)</h4>
                        <input type="text" class="hib-input-field" id="hib-complete-2" placeholder="اكتب إجابتك هنا">
                        <button class="hib-btn" onclick="hibCheckComplete(2, 'ابن')">تحقق</button>
                        <div class="hib-result" id="hib-complete-result-2" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>3. يا _____ آدم (ابن/بن)</h4>
                        <input type="text" class="hib-input-field" id="hib-complete-3" placeholder="اكتب إجابتك هنا">
                        <button class="hib-btn" onclick="hibCheckComplete(3, 'بن')">تحقق</button>
                        <div class="hib-result" id="hib-complete-result-3" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>4. جاء _____ الطبيب (ابن/بن)</h4>
                        <input type="text" class="hib-input-field" id="hib-complete-4" placeholder="اكتب إجابتك هنا">
                        <button class="hib-btn" onclick="hibCheckComplete(4, 'ابن')">تحقق</button>
                        <div class="hib-result" id="hib-complete-result-4" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>5. أبو حنيفة _____ أبي ثابت (ابن/بن)</h4>
                        <input type="text" class="hib-input-field" id="hib-complete-5" placeholder="اكتب إجابتك هنا">
                        <button class="hib-btn" onclick="hibCheckComplete(5, 'بن')">تحقق</button>
                        <div class="hib-result" id="hib-complete-result-5" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>6. _____ رشد فيلسوف أندلسي (ابن/بن)</h4>
                        <input type="text" class="hib-input-field" id="hib-complete-6" placeholder="اكتب إجابتك هنا">
                        <button class="hib-btn" onclick="hibCheckComplete(6, 'ابن')">تحقق</button>
                        <div class="hib-result" id="hib-complete-result-6" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>7. عائشة _____ أبي بكر (ابن/بنت)</h4>
                        <input type="text" class="hib-input-field" id="hib-complete-7" placeholder="اكتب إجابتك هنا">
                        <button class="hib-btn" onclick="hibCheckComplete(7, 'بنت')">تحقق</button>
                        <div class="hib-result" id="hib-complete-result-7" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>8. سلمان _____ عبد العزيز (ابن/بن)</h4>
                        <input type="text" class="hib-input-field" id="hib-complete-8" placeholder="اكتب إجابتك هنا">
                        <button class="hib-btn" onclick="hibCheckComplete(8, 'بن')">تحقق</button>
                        <div class="hib-result" id="hib-complete-result-8" style="display: none;"></div>
                    </div>
                </div>
            </div>
            <!-- صح وخطأ -->
            <div id="hib-truefalse" class="hib-tab-content">
                <div class="hib-exercise-container">
                    <h2>✅ صح أم خطأ؟</h2>
                    <div class="hib-score-board">
                        <h3>النتيجة: <span id="hib-tf-score">0</span> من <span id="hib-tf-total">8</span></h3>
                    </div>
                    <div class="hib-question">
                        <h4>1. تُحذف همزة ابن إذا وقعت بين علمين</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectTF(this, true)">صح ✅</div>
                            <div class="hib-option" onclick="hibSelectTF(this, false)">خطأ ❌</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckTF(1)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-tf-result-1" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>2. في جملة "ابن خلدون مؤرخ" تُحذف همزة ابن</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectTF(this, false)">صح ✅</div>
                            <div class="hib-option" onclick="hibSelectTF(this, true)">خطأ ❌</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckTF(2)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-tf-result-2" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>3. تُحذف همزة ابن بعد أداة النداء "يا"</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectTF(this, true)">صح ✅</div>
                            <div class="hib-option" onclick="hibSelectTF(this, false)">خطأ ❌</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckTF(3)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-tf-result-3" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>4. في "عائشة بنت أبي بكر" تُحذف همزة بنت لأنها بين علمين ثانيهما كنية</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectTF(this, true)">صح ✅</div>
                            <div class="hib-option" onclick="hibSelectTF(this, false)">خطأ ❌</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckTF(4)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-tf-result-4" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>5. تُثبت همزة ابن دائماً في أول السطر</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectTF(this, true)">صح ✅</div>
                            <div class="hib-option" onclick="hibSelectTF(this, false)">خطأ ❌</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckTF(5)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-tf-result-5" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>6. في "أبو العباس بن أبي طالب" تُحذف همزة ابن لأنها بين كنيتين</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectTF(this, true)">صح ✅</div>
                            <div class="hib-option" onclick="hibSelectTF(this, false)">خطأ ❌</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckTF(6)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-tf-result-6" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>7. همزة "بنت" لها نفس قواعد همزة "ابن"</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectTF(this, true)">صح ✅</div>
                            <div class="hib-option" onclick="hibSelectTF(this, false)">خطأ ❌</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckTF(7)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-tf-result-7" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>8. يمكن حذف همزة ابن في جملة "رأيت ابن الطبيب"</h4>
                        <div class="hib-options">
                            <div class="hib-option" onclick="hibSelectTF(this, false)">صح ✅</div>
                            <div class="hib-option" onclick="hibSelectTF(this, true)">خطأ ❌</div>
                        </div>
                        <button class="hib-btn" onclick="hibCheckTF(8)" style="display: none;">تحقق من الإجابة</button>
                        <div class="hib-result" id="hib-tf-result-8" style="display: none;"></div>
                    </div>
                </div>
            </div>
            <!-- تصحيح الأخطاء -->
            <div id="hib-correct" class="hib-tab-content">
                <div class="hib-exercise-container">
                    <h2>🔧 صحح الأخطاء</h2>
                    <div class="hib-score-board">
                        <h3>النتيجة: <span id="hib-correct-score">0</span> من <span id="hib-correct-total">6</span></h3>
                    </div>
                    <div class="hib-question">
                        <h4>1. صحح الخطأ في الجملة التالية:</h4>
                        <p style="background: #ffe6e6; padding: 15px; border-radius: 8px; border-right: 4px solid #e74c3c;">
                            "بن تيمية عالم جليل"
                        </p>
                        <input type="text" class="hib-input-field" id="hib-correct-1" placeholder="اكتب الجملة صحيحة">
                        <button class="hib-btn" onclick="hibCheckCorrection(1, 'ابن تيمية عالم جليل')">تحقق</button>
                        <div class="hib-result" id="hib-correct-result-1" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>2. صحح الخطأ في الجملة التالية:</h4>
                        <p style="background: #ffe6e6; padding: 15px; border-radius: 8px; border-right: 4px solid #e74c3c;">
                            "جاء بن أحمد إلى المدرسة"
                        </p>
                        <input type="text" class="hib-input-field" id="hib-correct-2" placeholder="اكتب الجملة صحيحة">
                        <button class="hib-btn" onclick="hibCheckCorrection(2, 'جاء ابن أحمد إلى المدرسة')">تحقق</button>
                        <div class="hib-result" id="hib-correct-result-2" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>3. صحح الخطأ في الجملة التالية:</h4>
                        <p style="background: #ffe6e6; padding: 15px; border-radius: 8px; border-right: 4px solid #e74c3c;">
                            "عمر ابن الخطاب خليفة راشد"
                        </p>
                        <input type="text" class="hib-input-field" id="hib-correct-3" placeholder="اكتب الجملة صحيحة">
                        <button class="hib-btn" onclick="hibCheckCorrection(3, 'عمر بن الخطاب خليفة راشد')">تحقق</button>
                        <div class="hib-result" id="hib-correct-result-3" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>4. صحح الخطأ في الجملة التالية:</h4>
                        <p style="background: #ffe6e6; padding: 15px; border-radius: 8px; border-right: 4px solid #e74c3c;">
                            "يا ابن كريم تعال هنا"
                        </p>
                        <input type="text" class="hib-input-field" id="hib-correct-4" placeholder="اكتب الجملة صحيحة">
                        <button class="hib-btn" onclick="hibCheckCorrection(4, 'يا بن كريم تعال هنا')">تحقق</button>
                        <div class="hib-result" id="hib-correct-result-4" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>5. صحح الخطأ في الجملة التالية:</h4>
                        <p style="background: #ffe6e6; padding: 15px; border-radius: 8px; border-right: 4px solid #e74c3c;">
                            "فاطمة ابنت محمد"
                        </p>
                        <input type="text" class="hib-input-field" id="hib-correct-5" placeholder="اكتب الجملة صحيحة">
                        <button class="hib-btn" onclick="hibCheckCorrection(5, 'فاطمة بنت محمد')">تحقق</button>
                        <div class="hib-result" id="hib-correct-result-5" style="display: none;"></div>
                    </div>
                    <div class="hib-question">
                        <h4>6. صحح الخطأ في الجملة التالية:</h4>
                        <p style="background: #ffe6e6; padding: 15px; border-radius: 8px; border-right: 4px solid #e74c3c;">
                            "أبو بكر ابن أبي قحافة"
                        </p>
                        <input type="text" class="hib-input-field" id="hib-correct-6" placeholder="اكتب الجملة صحيحة">
                        <button class="hib-btn" onclick="hibCheckCorrection(6, 'أبو بكر بن أبي قحافة')">تحقق</button>
                        <div class="hib-result" id="hib-correct-result-6" style="display: none;"></div>
                    </div>
                </div>
            </div>
            <!-- تصنيف الأمثلة -->
            <div id="hib-classify" class="hib-tab-content">
                <div class="hib-exercise-container">
                    <h2>📊 صنف الأمثلة</h2>
                    <div class="hib-score-board">
                        <h3>النتيجة: <span id="hib-classify-score">0</span> من <span id="hib-classify-total">8</span></h3>
                    </div>

                    <p><strong>اسحب كل مثال إلى المجموعة الصحيحة:</strong></p>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                        <div class="hib-drop-zone" id="hib-with-hamza" style="background: #fff3cd; border: 2px dashed #ffc107; padding: 20px; border-radius: 10px; min-height: 200px;">
                            <h4 style="text-align: center; color: #856404;">تُكتب بالهمزة (ابن)</h4>
                            <div class="hib-dropped-items"></div>
                        </div>

                        <div class="hib-drop-zone" id="hib-without-hamza" style="background: #d1ecf1; border: 2px dashed #17a2b8; padding: 20px; border-radius: 10px; min-height: 200px;">
                            <h4 style="text-align: center; color: #0c5460;">تُكتب بدون همزة (بن)</h4>
                            <div class="hib-dropped-items"></div>
                        </div>
                    </div>

                    <div class="hib-examples-container" style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4>الأمثلة:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-with-hamza">ابن سينا طبيب</div>
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-without-hamza">محمد بن راشد</div>
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-with-hamza">جاء ابن الجار</div>
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-without-hamza">يا بن آدم</div>
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-without-hamza">علي بن أبي طالب</div>
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-with-hamza">ابن خلدون مؤرخ</div>
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-without-hamza">أبو بكر بن أبي قحافة</div>
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-with-hamza">رأيت ابن عمي</div>
                            <div class="hib-draggable-item" draggable="true" data-correct="hib-without-hamza">خديجة بنت خويلد</div>
                        </div>
                    </div>

                    <button class="hib-btn" onclick="hibCheckClassification()" style="width: 100%; margin-top: 20px;">تحقق من التصنيف</button>
                    <div class="hib-result" id="hib-classify-result" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // متغيرات عامة
        let hibMcqScore = 0;
        let hibCompleteScore = 0;
        let hibTfScore = 0;
        let hibCorrectScore = 0;
        let hibClassifyScore = 0;
        let hibSelectedAnswers = {};
        let hibDraggedElement = null;

        // عرض التبويب المحدد
        function hibShowTab(tabName) {
            document.querySelectorAll('.hib-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.hib-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById('hib-' + tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // اختيار خيار في أسئلة الاختيار من متعدد
        function hibSelectOption(element, isCorrect) {
            const questionDiv = element.closest('.hib-question');
            const options = questionDiv.querySelectorAll('.hib-option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            const questionId = questionDiv.id;
            hibSelectedAnswers[questionId] = isCorrect;
            questionDiv.querySelector('.hib-btn').style.display = 'inline-block';
        }

        // التحقق من إجابة أسئلة الاختيار من متعدد
        function hibCheckMCQ(questionNum) {
            const questionId = `hib-mcq-${questionNum}`;
            const isCorrect = hibSelectedAnswers[questionId];
            const resultDiv = document.getElementById(`hib-result-${questionNum}`);
            const questionDiv = document.getElementById(questionId);
            const options = questionDiv.querySelectorAll('.hib-option');

            options.forEach(option => {
                if (option.classList.contains('selected')) {
                    if (isCorrect) {
                        option.classList.add('correct');
                        resultDiv.className = 'hib-result hib-correct-result';
                        resultDiv.textContent = '🎉 إجابة صحيحة! أحسنت';
                        hibMcqScore++;
                    } else {
                        option.classList.add('incorrect');
                        resultDiv.className = 'hib-result hib-incorrect-result';
                        resultDiv.textContent = '❌ إجابة خاطئة، حاول مرة أخرى';
                    }
                }
            });
            resultDiv.style.display = 'block';
            questionDiv.querySelector('.hib-btn').style.display = 'none';
            document.getElementById('hib-mcq-score').textContent = hibMcqScore;
        }

        // التحقق من إجابة أسئلة إكمال الفراغ
        function hibCheckComplete(questionNum, correctAnswer) {
            const inputField = document.getElementById(`hib-complete-${questionNum}`);
            const userAnswer = inputField.value.trim();
            const resultDiv = document.getElementById(`hib-complete-result-${questionNum}`);

            if (userAnswer === correctAnswer) {
                resultDiv.className = 'hib-result hib-correct-result';
                resultDiv.textContent = '🎉 إجابة صحيحة!';
                inputField.style.borderColor = '#27ae60';
                hibCompleteScore++;
            } else {
                resultDiv.className = 'hib-result hib-incorrect-result';
                resultDiv.textContent = `❌ إجابة خاطئة. الإجابة الصحيحة: ${correctAnswer}`;
                inputField.style.borderColor = '#e74c3c';
            }
            resultDiv.style.display = 'block';
            inputField.disabled = true;
            document.getElementById('hib-complete-score').textContent = hibCompleteScore;
        }

        // اختيار خيار في أسئلة صح وخطأ
        function hibSelectTF(element, isCorrect) {
            const questionDiv = element.closest('.hib-question');
            const options = questionDiv.querySelectorAll('.hib-option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            const questionText = questionDiv.querySelector('h4').textContent;
            hibSelectedAnswers[questionText] = isCorrect;
            questionDiv.querySelector('.hib-btn').style.display = 'inline-block';
        }

        // التحقق من إجابة أسئلة صح وخطأ
        function hibCheckTF(questionNum) {
            const questionDiv = document.querySelector(`#hib-truefalse .hib-question:nth-child(${questionNum + 1})`);
            const selectedOption = questionDiv.querySelector('.hib-option.selected');
            const resultDiv = document.getElementById(`hib-tf-result-${questionNum}`);
            const questionText = questionDiv.querySelector('h4').textContent;
            const isCorrect = hibSelectedAnswers[questionText];

            if (isCorrect) {
                selectedOption.classList.add('correct');
                resultDiv.className = 'hib-result hib-correct-result';
                resultDiv.textContent = '🎉 إجابة صحيحة!';
                hibTfScore++;
            } else {
                selectedOption.classList.add('incorrect');
                resultDiv.className = 'hib-result hib-incorrect-result';
                resultDiv.textContent = '❌ إجابة خاطئة';
            }
            resultDiv.style.display = 'block';
            questionDiv.querySelector('.hib-btn').style.display = 'none';
            document.getElementById('hib-tf-score').textContent = hibTfScore;
        }

        // التحقق من تصحيح الأخطاء
        function hibCheckCorrection(questionNum, correctAnswer) {
            const inputField = document.getElementById(`hib-correct-${questionNum}`);
            const userAnswer = inputField.value.trim();
            const resultDiv = document.getElementById(`hib-correct-result-${questionNum}`);

            if (userAnswer === correctAnswer) {
                resultDiv.className = 'hib-result hib-correct-result';
                resultDiv.textContent = '🎉 تصحيح ممتاز!';
                inputField.style.borderColor = '#27ae60';
                hibCorrectScore++;
            } else {
                resultDiv.className = 'hib-result hib-incorrect-result';
                resultDiv.textContent = `❌ تصحيح خاطئ. الإجابة الصحيحة: "${correctAnswer}"`;
                inputField.style.borderColor = '#e74c3c';
            }
            resultDiv.style.display = 'block';
            inputField.disabled = true;
            document.getElementById('hib-correct-score').textContent = hibCorrectScore;
        }

        // وظائف السحب والإفلات
        document.addEventListener('DOMContentLoaded', function() {
            const draggableItems = document.querySelectorAll('.hib-draggable-item');
            const dropZones = document.querySelectorAll('.hib-drop-zone');

            draggableItems.forEach(item => {
                item.addEventListener('dragstart', function(e) {
                    hibDraggedElement = this;
                    this.classList.add('dragging');
                });
                item.addEventListener('dragend', function(e) {
                    this.classList.remove('dragging');
                });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });
                zone.addEventListener('dragleave', function(e) {
                    this.classList.remove('drag-over');
                });
                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');

                    if (hibDraggedElement) {
                        const droppedItems = this.querySelector('.hib-dropped-items');
                        const newItem = document.createElement('div');
                        newItem.className = 'hib-dropped-item';
                        newItem.textContent = hibDraggedElement.textContent;
                        newItem.dataset.correct = hibDraggedElement.dataset.correct;
                        newItem.dataset.zone = this.id;

                        droppedItems.appendChild(newItem);
                        hibDraggedElement.style.display = 'none';
                        hibDraggedElement = null;
                    }
                });
            });
        });

        // التحقق من التصنيف
        function hibCheckClassification() {
            const droppedItems = document.querySelectorAll('.hib-dropped-item');
            let correct = 0;
            let total = droppedItems.length;

            droppedItems.forEach(item => {
                const correctZone = item.dataset.correct;
                const currentZone = item.dataset.zone;

                if (correctZone === currentZone) {
                    item.classList.add('correct');
                    correct++;
                } else {
                    item.classList.add('incorrect');
                }
            });

            hibClassifyScore = correct;
            document.getElementById('hib-classify-score').textContent = hibClassifyScore;

            const resultDiv = document.getElementById('hib-classify-result');
            if (correct === total && total > 0) {
                resultDiv.className = 'hib-result hib-correct-result';
                resultDiv.textContent = `🎉 ممتاز! صنفت جميع الأمثلة بشكل صحيح (${correct}/${total})`;
            } else {
                resultDiv.className = 'hib-result hib-incorrect-result';
                resultDiv.textContent = `📊 النتيجة: ${correct} من ${total} صحيحة. راجع الأمثلة الخاطئة وحاول مرة أخرى.`;
            }
            resultDiv.style.display = 'block';
        }
    </script>
</body>
</html>
